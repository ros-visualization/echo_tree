<!DOCTYPE HTML>
<html>
  <head>
    <script type="text/javascript">

      // Check for browser support:
      if(typeof(WebSocket)!=="undefined") {

      	// Create a WebSocket connected back to the EchoTree server 
        // where this script came from:
        var ws = new WebSocket("ws://mono.stanford.edu:5001");

        ws.onopen = function () {
        };

        ws.onerror = function () {
          alert("Error occurred. (Helpful message, isn't it?");
        };

        ws.onmessage = function (event) {
           alert(event.data);
           document.getElementById("newTree").innerHTML=event.data;
        };
      }

      else {
        // WebSockts not supported in this browser:
      	document.getElementById("newTree").innerHTML="Whoops! Your browser doesn't support WebSockets.";
      }

    </script>
  </head>
  <body>
    Starting to listen for word trees...
  <div id="newTree">
    Tree will appear here.
  </div>
  </body>
</html>
