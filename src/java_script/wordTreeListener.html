<!DOCTYPE HTML>
<html>
  <head>
    <script type="text/javascript">

      // Check for browser support:
      if(typeof(EventSource)!=="undefined") {

      	// Create an EventSourceobject, passing it the name and
        // location of the server side script:
        var source = new EventSource("http://mono.stanford.edu:5000");

        source.onopen = function () {
          connectionOpen(true);
        };

        source.onerror = function () {
          connectionOpen(false);
        };

        // For event types other than the default type (which we don't
        // have for now):
        //source.addEventListener('connections', updateConnections, false);
        //source.addEventListener('requests', updateRequests, false);
        //source.addEventListener('uptime', updateUptime, false);

        source.onmessage = function (event) {
           //alert(event.data);
           document.getElementById("newTree").innerHTML=event.data;
        };
      }

      else {
        // No server-sent events supported in this browser:
      	document.getElementById("newTree").innerHTML="Whoops! Your browser doesn't receive server-sent events.";
      }

    </script>
  </head>
  <body>
    Starting to listen for word trees...
  <div id="newTree">
    Tree will appear here.
  </div>
  </body>
</html>
